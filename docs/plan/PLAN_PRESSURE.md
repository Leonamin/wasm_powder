### 기압의 절대 최소/최대치

  * **최소값 (존재함):** 네, 존재합니다. **완벽한 진공(perfect vacuum)** 상태가 바로 '기압 0'입니다. 온도의 절대 0도(-273.15°C)와 정확히 같은 개념입니다. 입자가 없으면 충돌도 없고, 기압도 0입니다.
  * **최대값 (없음):** 이론적으로 **없습니다.** 입자를 무한히 압축하거나 에너지를 가하면 기압은 한계 없이 높아질 수 있습니다. (파우더 토이의 256은 8비트 자료형의 한계일 뿐입니다.)

-----

### 구현 계획: 기압 시스템 추가하기

기압은 '온도'와 똑같은 방식으로, 즉 \*\*모든 셀이 고유하게 가지는 '병렬 그리드'\*\*로 구현해야 합니다.

#### 1\. `Particle` 구조체 확장 (병렬 그리드 추가)

`Particle` (셀 상태) 구조체에 `pressure` 변수를 추가합니다. `temperature`와 똑같은 레벨입니다.

```cpp
struct Particle { // (Cell State)
    // --- 1. 물질 그리드 ---
    int type; // (EMPTY, WATER, SAND...)

    // --- 2. 환경 그리드 (배경 속성) ---
    float temperature; // 현재 셀의 온도
    float pressure;    // [신규] 현재 셀의 기압

    // --- 3. 물리 상태 ---
    // ... (state, vx, vy, ... )
};
```

  * **값의 범위:** 0\~256 대신, 다른 `float` 변수들과 통일성을 위해 **정규화된 float**을 추천합니다.
      * `0.0f` = 완벽한 진공 (절대 0 기압)
      * `1.0f` = 표준 대기압 (기본값)
      * `2.0f`, `10.0f`... = 고기압

#### 2\. `update()` 루프에 기압 전용 패스(Pass) 추가

기압은 (1)입자에 의해 생성되고, (2)빈 공간(배경)을 통해 확산되며, (3)다른 입자에게 힘을 가합니다. 이를 위해 2개의 새 패스가 필요합니다.

**A. `PASS 2.5: 기압 계산 및 확산`** (열 전도와 유사)

  * `PASS 2 (열 전도)` 직후에 실행합니다.
  * **목표:** `GAS` 같은 입자가 기압을 *생성*하고, 이 기압이 `EMPTY` 셀(배경)을 통해 *확산*되게 합니다.
  * **로직:**
    1.  모든 셀(`p`)을 순회합니다.
    2.  **기압 생성:** `GAS` 입자는 `nextGrid[i].pressure += 0.1f;` 처럼 주변에 압력을 더합니다. (폭발은 `+= 50.0f`)
    3.  **기압 확산 (배경 기압):** `EMPTY` 셀이나 `LIQUID` 셀은 주변 4칸의 `pressure`를 읽어와 평균을 냅니다.
          * `next_pressure = (p.pressure*4 + n1.pressure + n2.pressure + n3.pressure + n4.pressure) / 8;`
          * `nextGrid[i].pressure = next_pressure;`
    <!-- end list -->
      * **결과:** `GAS`가 뿜어내는 고기압이 빈 공간(배경)을 통해 파도처럼 퍼져나갑니다.

**B. `PASS 4.5: 기압에 의한 힘 계산`** (힘 계산의 일부)

  * `PASS 4 (힘 계산)` 직후에 실행합니다.
  * **목표:** 기압의 \*차이(경도, Gradient)\*가 입자를 밀어내는 힘을 구현합니다. (바람의 원리)
  * **로직:**
    1.  모든 셀(`p`)을 순회합니다. (특히 `POWDER`, `LIQUID`, `GAS` 입자)
    2.  **기압 경도 계산:** 좌우, 상하의 기압 차이를 계산합니다.
          * `float pressure_diff_x = grid[x+1][y].pressure - grid[x-1][y].pressure;`
          * `float pressure_diff_y = grid[x][y+1].pressure - grid[x][y-1].pressure;`
    3.  **힘 적용:** 기압이 높은 곳에서 낮은 곳으로 힘을 받습니다.
          * `nextGrid[i].vx -= pressure_diff_x * 0.5f;` // (0.5는 힘의 세기 조절)
          * `nextGrid[i].vy -= pressure_diff_y * 0.5f;`
    <!-- end list -->
      * **결과:** 고기압(폭발 지점)에서 저기압(진공)으로 입자들이 세차게 빨려 들어가거나 밀려납니다.

#### 3\. 다른 패스에 기압 연동 (상태 전이)

  * **`PASS 3: 상태 전이`** 로직을 수정합니다.
  * **목표:** 기압이 높으면 끓는점이 올라가는 현상을 구현합니다. (압력밥솥 원리)
  * **로직:**
      * `MaterialDB`에서 물질의 기본 끓는점(`boiling_point`)을 가져옵니다.
      * 현재 셀의 기압(`p.pressure`)을 이용해 끓는점을 보정합니다.
      * `float current_boiling_point = MaterialDB[p.type].boiling_point + (p.pressure - 1.0f) * 50.0f;` (1.0 기압(표준)보다 높으면 끓는점이 50도씩 증가하는 간단한 공식)
      * `if (p.temperature > current_boiling_point)`: 이 때 `STEAM`(기체)으로 상태를 변경합니다.
      * **결과:** 기압이 높은 곳에서는 물이 100°C가 넘어도 끓지 않고 액체 상태를 유지합니다.